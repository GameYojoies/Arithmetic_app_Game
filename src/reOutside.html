<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <script language="javascript" type="text/javascript" src="conf.js?version=1.01"></script>
    <script language="javascript" type="text/javascript" src="js/jquery.js?version=1.0.0.1"></script>
    <script language="javascript" type="text/javascript" src="js/sweetalert2.all.min.js"></script>
    <script language="javascript" type="text/javascript" src="js/widget.js"></script>
    <script language="javascript" type="text/javascript" src="js/iscroll-probe.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新用户注册页</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #FE5F44;
        }

        .slider_container {
            position: relative;
            width: 512px;
            height: 215px;
            overflow: hidden;
            touch-action: none;
            /* 禁止默认的触摸滚动行为 */
        }

        .background_image_slider {
            /* width: 384px;
        height: 161.25px; */
            /* background-image: url('./pic/bg/BG-home-2.png'); */
            /* 替换 'your_background_image.jpg' 为你的背景图路径 */
            position: absolute;
        }

        .fixed-image {
            position: absolute;
            top: 50%;
            left: 10%;
            /* 初始位置，可以根据需要调整 */
            transform: translate(-50%, -50%);
            width: 50px;
            /* 调整小图的宽度 */
            height: auto;
            z-index: 2;
            user-drag: none;
            /* 禁止用户拖拽元素 */
            user-select: none;
            /* 禁止用户选择元素内容 */
            cursor: grab;
        }

        .header {
            background-color: #457BFF;
            color: #fff;
            padding: 10px;
            text-align: center;
        }

        #registerPage {
            background-color: #fff;
            width: 100%;
            height: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #register_body {
            width: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 auto;
            padding: 10px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            margin-bottom: 20px;
        }


        input.boxInput {

            height: 40px;
            border: 1px solid #ccc;
            border-radius: 16px;
            font-size: 16px;
        }

        .invite {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 15px;
        }

        .invite-title {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }

        .invite-label {
            color: #808080;
        }

        #boxinvite {
            display: none;
            justify-content: center;
            width: 100%;
            margin-top: 15px;
        }

        #registerBtn {
            width: 85%;
            height: 40px;
            border-radius: 8px;
            background: var(--00, linear-gradient(270deg, #EA372A 0%, #FD5E43 96.28%));
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 15px;
            cursor: pointer;
        }

        .flexCenter {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flexTop_c {
            display: flex;
            justify-content: start;
            align-items: center;
            flex-direction: column;
        }

        #giftImage {
            width: 40%;
            position: absolute;
            top: 90px;
            animation: moveUpDown 1s infinite alternate;

        }

        @keyframes moveUpDown {
            0% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(-10px);
            }

        }

        .image-transition {
            transition: opacity 0.5s ease-in-out;
            /* Adjust the duration as needed */
        }

        #rippleImage {
            width: 115%;
            position: absolute;
            top: -55px;
            animation: rippleAnimation 1s infinite linear;
        }
    </style>
</head>



<body>
    <div style="height: 100%; width: 100%; position: absolute;" id="root">
        <div id="registerPage" class="registerPage" style="position: relative;">

            <img src="./pic/bg/bg_outside1.png" alt="" style="width: 100%; height: 100%; position: absolute; top: 0;">

            <div style="width: 100%; height: 230px;"></div>
            <img id="rippleImage" src="./pic/bg/re-gift.png" class="image-transition">

            <img src="./pic/bg/gift.png" id="giftImage" alt="gift" ;">

            <div id="registerListScroller"
                style="overflow: hidden;width: 100%; box-shadow: 0px 10px 20px 0px #0000001A; z-index: 5;"
                class="flexTop_c">
                <div style="height: auto; width: 90%;">
                    <div id="register_body" class="flexStart" style="height: auto">
                        <div style="height: 10px;"></div>
                        <span style="color: #01221D; font-size: 16px; font-weight: 500;">请通过算力中国邀请码注册成为用户</span>
                        <div style="height: 15px;"></div>

                        <div
                            style="display: flex; justify-content: center;width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <img src="./pic/icons/icon_02.png" alt="" id="regist_mobile"
                                style="position: absolute;left: 13px;width: 20px;height: 20px;top: 11px;">
                            <input id="mobile" class="boxInput" type="number" placeholder="电话号码"
                                pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length==11) return false;"
                                style=" padding-left: 50px; width: 100%;" />
                        </div>
                        <div style="height: 15px;"></div>

                        <div
                            style="display: flex; justify-content: center;width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <img src="./pic/icons/icon_03.png" alt=""
                                style="position: absolute;left: 13px;width: 20px;height: 20px;top: 11px;">
                            <input id="r_password" class="boxInput" type="password" placeholder="输入密码"
                                style=" padding-left: 50px; width: 100%; " />

                            <div style="z-index: 10; height: 25px; width: 25px; position: absolute; right: 11px; top: 10px;"
                                class="flexCenter">
                                <img id="r_password_icons" src="./pic/icons/icon_06.png" alt="" style="height: 20px; ">
                            </div>
                        </div>

                        <div style="height: 15px;"></div>

                        <div
                            style="display: flex; justify-content: center;width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <img src="./pic/icons/icon_03.png" alt=""
                                style="position: absolute;left: 13px;width: 20px;height: 20px;top: 11px;">
                            <input id="r_password_again" class="boxInput" type="password" placeholder="密码二次确认"
                                style=" padding-left: 50px; width: 100%;" />

                            <div style="z-index: 10; height: 25px; width: 25px; position: absolute; right: 11px; top: 10px;"
                                class="flexCenter">
                                <img id="r_password_icons2" src="./pic/icons/icon_06.png" alt="" style="height: 20px; ">
                            </div>

                        </div>

                        <div style="height: 15px;"></div>

                        <div
                            style="display: flex; justify-content: center;width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <img src="./pic/icons/icon_04.png" alt=""
                                style="position: absolute;left: 13px;width: 20px;height: 20px;top: 11px;">
                            <input id="name" class="boxInput" type="text" placeholder="昵称"
                                style=" padding-left: 50px; width: 100%;" />

                        </div>
                        <div style="height: 15px;"></div>
                        <div
                            style="display: flex; justify-content: center; width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <img src="./pic/icons/icon_01.png" alt="" id="regist_name"
                                style="position: absolute;left: 13px;width: 20px;height: 20px;top: 11px;">
                            <input id="r_name" class="boxInput" type="text" placeholder="真实姓名"
                                style=" padding-left: 50px;width: 100%;display: flex;align-items: center;">
                        </div>

                        <div style="height: 15px;"></div>


                        <div
                            style="display: flex; justify-content: center;width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <img src="./pic/icons/icon_05.png" alt=""
                                style="position: absolute;left: 13px;width: 20px;height: 20px;top: 11px;">
                            <input id="r_passport" class="boxInput" type="text" placeholder="身份证号"
                                pattern="/^-?\d+\.?\d*$/" style=" padding-left: 50px; width: 100%;" />

                        </div>

                        <div style="height: 15px;"></div>

                        <div class="invite"
                            style="display: flex; justify-content: space-between;width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <div class="invite-title"
                                style=" display: flex; justify-content: space-between; width: 100%;">
                                <span id="referral" class="invite-label"
                                    style="color: #808080;font-size: 14px;">请输入您的邀请码</span>
                            </div>
                        </div>
                        <div style="height: 10px;"></div>

                        <div id="boxinvite"
                            style="display: flex; justify-content: center;width: 85%;position: relative; height: 100%; margin: 0 auto;">
                            <input id="inviteCode" class="boxInput" type="email" placeholder="邀请码" type="number"
                                style=" padding-left: 20px; width: 100%;" />
                        </div>
                        <div style="height: 65px;"></div>

                        <div id="registerBtn" style="display: flex; justify-content: center; width: 85%;">
                            <div id="" class="btnComm"
                                style="width: 85%;height: 40px;border-radius: 8px;display: flex;align-items: center;justify-content: center;">
                                <b id="creatBtnSpan">确定注册</b>
                            </div>
                        </div>
                        <div style="height: 50px;"></div>
                    </div>



                </div>
            </div>
        </div>
    </div>


    <div id="messagePage"
        style="z-index: 996;position: absolute;left: 0px;top: 0px;display: none;width: 1px;height: 1px;">
        <div id="messagePageBg" style="position: absolute;left: 0px;top: 0px;background-color: #000000;opacity: 0.7;">
        </div>
        <div id="messagePageBodyBg"
            style="position: absolute;left: 0px;top: 0px;display: flex;justify-content: center;align-items: center;">
            <div id="messagePageBody"
                style="background-color: #f7f7f7;border-radius: 15px;box-shadow: 0px 0px 5px 5px rgb(0, 0, 0,0.2);">
                <div style="height: 30px;display: flex;">
                    <div id="msgPageBtnClose"
                        style="display: none;justify-content: center;align-items: center;width: 30px;height: 100%;">
                        x
                    </div>
                </div>
                <div id="msgPageContent"
                    style="width: 100%;height:160px;display: flex;justify-content: center;align-items: center;">
                    Content
                </div>
                <div style="height: 10px;"></div>
            </div>
        </div>
    </div>

    <div id="sliderContainer"
        style="position: absolute; top: 0; display: none; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6);   z-index: 10;"
        class="flexCenter">

        <div class="slider_container" style="position: relative;">
            <!-- <img class="background_image_slider" src="path/to/your/background/image.jpg" style="width: 100%; height: 100%; position: absolute;" alt="Background Image">
        <img src="./pic/logo/logoApp.png" style="position: absolute;" alt="Fixed Image" class="fixed-image" id="fixedImage"> -->
            <img class="background_image_slider" style="width: 100%; height: 100%; position: absolute;"
                alt="Background Image">
            <img style="position: absolute;border: 1px solid #ff000080;" alt="Fixed Image" class="fixed-image"
                id="fixedImage">
        </div>
    </div>
    <script>

        var msgPageObj = new messagePage();
        msgPageObj.init();
        var w = $(window).width();
        var h = $(window).height();

        var API_SERVER = "";
        var blockImage
        var bgImage
        var y
        var ImgId
        var xPosition
        var checkLoginR
        if (APIServer) {
            API_SERVER = APIServer;
        }

        if (isPro) {
            var host = location.hostname;
            var port = location.port;
            API_SERVER = location.protocol + "//" + host + ":" + port;
        }

        var registerObj = new register();
        registerObj.init();
        var myScroll
        $("#root").css({ "overflow": "hidden" });
        myScroll = new IScroll('#root', { probeType: 1, mouseWheel: true });


        var rippleImage = document.getElementById('rippleImage');
        var imageIndex = 0;
        var images = ['./pic/bg/re-gift.png', './pic/bg/re-gift-1.png', './pic/bg/re-gift-2.png', './pic/bg/re-gift-3.png', './pic/bg/re-gift-4.png'];

        function changeImage() {
            rippleImage.style.opacity = 0;
            rippleImage.style.transform = 'scale(1)'; // เพิ่มการเปลี่ยนแปลงตามที่คุณต้องการ

            setTimeout(function () {
                imageIndex = (imageIndex + 1) % images.length;
                rippleImage.src = images[imageIndex];
                rippleImage.style.opacity = 1;
                rippleImage.style.transform = 'scale(1)'; // เพิ่มการเปลี่ยนแปลงตามที่คุณต้องการ
            }, 120);
        }

        setInterval(changeImage, 500);

        function getQueryString(name) {
            var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
            var r = window.location.search.substr(1).match(reg);
            if (r != null) {
                return decodeURIComponent(r[2]);
            }
            return null;
        }

        var langCode = 'zh'

        var statusCodesArr = {

            "0": { "en": "Success", "zh": "请求成功", "th": "สำเร็จ" },
            "2011": { "en": "Accepted", "zh": "请求已受理", "th": "ยอมรับแล้ว" },
            "4001": { "en": "Token expire", "zh": "账户已过期", "th": "Token หมดอายุ" },
            "4002": { "en": "Refresh token expire", "zh": "再次刷新账户", "th": "Refresh Token หมดอายุ" },
            "4010": { "en": "Incorrect phone number or password", "zh": "电话号码或密码不正确", "th": "หมายเลขโทรศัพท์หรือรหัสผ่านไม่ถูกต้อง" },
            "4011": { "en": "Invalid password", "zh": "密码错误", "th": "รหัสผ่านไม่ถูกต้อง" },
            "4014": { "en": "Invalid account name", "zh": "无效的用户名", "th": "ชื่อบัญชีไม่ถูกต้อง" },
            "4021": { "en": "Password not matches", "zh": "密码与当前密码不匹配", "th": "รหัสผ่านไม่ตรงกับรหัสผ่านปัจจุบัน" },
            "4022": { "en": "Existed account name", "zh": "用户名已经存在", "th": "มีชื่อบัญชีอยู่แล้ว" },
            "4023": { "en": "Existed mobile", "zh": "手机号已经存在", "th": "มีหมายเลขโทรศัพท์มือถือแล้ว" },
            "4024": { "en": "Sms code sample", "zh": "短信验证码不一致", "th": "รหัส SMS ไม่ตรงกัน" },
            "4025": { "en": "Destroy account", "zh": "已经注销的帐户", "th": "บัญชีถูกยกเลิกแล้ว" },
            "4029": { "en": "Invalid mobile", "zh": "无效的手机号", "th": "หมายเลขโทรศัพท์ไม่ถูกต้อง" },
            "4030": { "en": "Invalid user id", "zh": "无效用户ID", "th": "รหัสผู้ใช้ไม่ถูกต้อง" },
            "4031": { "en": "Balance not enough", "zh": "余额不足", "th": "ยอดเงินไม่เพียงพอ" },
            "4032": { "en": "Invalid wallet address", "zh": "无效钱包地址", "th": "ที่อยู่กระเป๋าเงินไม่ถูกต้อง" },
            "4033": { "en": "Invalid amount", "zh": "无效金额", "th": "จำนวนไม่ถูกต้อง" },
            "4034": { "en": "Withdraw fail", "zh": "提现失败", "th": "การถอนล้มเหลว" },
            "4035": { "en": "Invalid invite code", "zh": "无效邀请码", "th": "รหัสเชิญไม่ถูกต้อง" },
            "4036": { "en": "Invalid financial organization bank name", "zh": "无效金融机构银行名称", "th": "ชื่อธนาคารไม่ถูกต้อง" },
            "4037": { "en": "Invalid financial organization card number", "zh": "无效金融机构卡号", "th": "หมายเลขบัตรไม่ถูกต้อง" },
            "4038": { "en": "Invalid financial organization card name", "zh": "无效金融机构卡名", "th": "ชื่อบัตรไม่ถูกต้อง" },
            "4039": { "en": "Existed financial organization card number", "zh": "已存在金融机构卡号", "th": "มีหมายเลขธนาคารอยู่แล้ว" },
            "4040": { "en": "Invalid name", "zh": "无效姓名", "th": "ชื่อไม่ถูกต้อง" },
            "4041": { "en": "Invalid identity passport code", "zh": "无效身份证号码", "th": "รหัสบัตรประจำตัวไม่ถูกต้อง" },
            "4042": { "en": "Invalid step", "zh": "无效步骤", "th": "ขั้นตอนไม่ถูกต้อง" },
            "4043": { "en": "Existed checked in", "zh": "已签到", "th": "ได้ทำการเช็คอินแล้ว" },
            "4044": { "en": "Invalid product id", "zh": "无效产品ID", "th": "รหัสผลิตภัณฑ์ไม่ถูกต้อง" },
            "4045": { "en": "Not allow repeat purchase", "zh": "不允许重复购买", "th": "ไม่อนุญาตให้ซื้อซ้ำ" },
            "4046": { "en": "Purchase method is invalid", "zh": "购买方式无效", "th": "วิธีการซื้อไม่ถูกต้อง" },
            "4047": { "en": "Product state is invalid", "zh": "产品状态无效", "th": "สถานะผลิตภัณฑ์ไม่ถูกต้อง" },
            "4048": { "en": "Purchase method is not match", "zh": "购买方式不匹配", "th": "วิธีการซื้อไม่ตรงกัน" },
            "4049": { "en": "Product is off", "zh": "产品已下架", "th": "ผลิตภัณฑ์ถูกปิด" },
            "4050": { "en": "Account disabled", "zh": "用户已被禁用", "th": "บัญชีถูกปิดการใช้งาน" },
            "4051": { "en": "Invalid announcement id", "zh": "无效公告ID", "th": "รหัสประกาศไม่ถูกต้อง" },
            "4052": { "en": "Invalid wallet type", "zh": "无效钱包类型", "th": "ประเภทกระเป๋าเงินไม่ถูกต้อง" },
            "4053": { "en": "Invalid transaction type", "zh": "无效交易类型", "th": "ประเภทการธุรกรรมไม่ถูกต้อง" },
            "4054": { "en": "Invalid 2fa", "zh": "没有设置交易密码", "th": "การตรวจสอบความปลอดภัย 2 ขั้นตอนไม่ถูกต้อง" },
            "4055": { "en": "Withdraw not enabled", "zh": "提现未启用", "th": "การถอนเงินไม่ได้เปิดใช้งาน" },
            "4056": { "en": "Invalid notifications", "zh": "无效通知", "th": "การแจ้งเตือนไม่ถูกต้อง" },
            "4057": { "en": "Identity not verified", "zh": "身份未验证", "th": "ไม่ได้รับการตรวจสอบตัวตน" },
            "4058": { "en": "Not found bank name", "zh": "未找到银行名称", "th": "ไม่พบชื่อธนาคาร" },
            "4059": { "en": "Not found bank info apply type", "zh": "未找到银行信息申请类型", "th": "ไม่พบประเภทการสมัครข้อมูลธนาคาร" },
            "4062": { "en": "Not enough credit", "zh": "没有足够的额度", "th": "เครดิตไม่พอ" },
            "4063": { "en": "Activity points can only be used once", "zh": "活动积分只能使用", "th": "คะแนนกิจกรรมสามารถใช้ได้หนึ่งครั้งเท่านั้น" },
            "4064": { "en": "Not enough points", "zh": "积分不够", "th": "คะแนนไม่เพียงพอ" },
            "4065": { "en": "Insufficient Debt Settlement Fund Balance", "zh": "债务清算基金余额不足", "th": "ยอดกองทุนชำระหนี้ไม่เพียงพอ" },
            "4066": { "en": "You are not active enough, please try your best", "zh": "您的龙力值不够，请努力哦", "th": "คุณยังใช้งานไม่มากพอ โปรดพยายามให้ดีที่สุด" },
            "4067": { "en": "Not support debt settlement fund", "zh": "不支持债务清偿基金", "th": "ไม่สนับสนุนกองทุนการชำระหนี้" },
            "4068": { "en": "Invalid remark", "zh": "无效评论", "th": "หมายเหตุที่ไม่ถูกต้อง" },
            "4069": { "en": "Invalid financial organization wallet address", "zh": "无效的金融组织钱包地址", "th": "ที่อยู่กระเป๋าสตางค์ทางการเงินไม่ถูกต้อง" },
            "4070": { "en": "Existed financial organization wallet address", "zh": "现有金融机构钱包地址", "th": "ที่อยู่กระเป๋าเงินขององค์กรทางการเงินที่มีอยู่" },
            "4071": { "en": "Invalid financial organization wallet address", "zh": "无效的金融组织钱包地址", "th": "ที่อยู่กระเป๋าสตางค์ทางการเงินไม่ถูกต้อง" },

            "4078": { "en": "", "zh": "金额小于最小金额要求", "th": " " },
            "4088": { "en": "", "zh": "无效的活动码", "th": " " },
            "4072": { "en": "", "zh": "活动码已经被使用过", "th": "" },
            "4074": { "en": "", "zh": "该支付方式有误请重新绑定！", "th": "" },
            "4089": { "en": "", "zh": "已经领取过", "th": " " },
            //"4089": { "en": "", "zh": "恭喜您！获得40万算力券奖励！", "th": " " },
            "4090": { "en": "", "zh": "不符合领取条件", "th": "" },
            "4091": { "en": "", "zh": "您今天已提交意见反馈", "th": " " },
            "4092": { "en": "", "zh": "算力券不足", "th": " " },
            "4093": { "en": "", "zh": "验证无效或过期", "th": " " },
            "4094": { "en": "", "zh": "注册数量达到上限", "th": " " },
            "4095": { "en": "", "zh": "提示：提款卡姓名必须和本人一致", "th": " " },
            "4096": { "en": "", "zh": "重复的上传", "th": " " },

            "8002": { "en": "", "zh": "仅支持 JPG，PNG，JPEG格式的图片上传", "th": " " },
            "9999": { "en": "Unknown mistake", "zh": "未知错误", "th": "ไม่ทราบข้อผิดพลาด" }

        }


        function getStatusCode(code) {
            var thisCode = code
            try {
                var v = statusCodesArr[thisCode][langCode];
                if (v != null) {
                    return v;
                } else {
                    return thisCode;
                }
            } catch (e) {
                return thisCode;
            }
        }


        function register() {
            this.init = function () {

                var vCode = getQueryString('code');

                $("#inviteCode").val(vCode);

                // myScroll = new IScroll('#registerListScroller', { probeType: 1, mouseWheel: true });



                $("#r_password").keypress(function (event) {
                    var ew = event.which;
                    if (32 <= ew && ew <= 122)
                        return true;
                    return false;
                });
                $("#r_password_again").keypress(function (event) {
                    var ew = event.which;
                    if (32 <= ew && ew <= 122)
                        return true;
                    return false;
                });
                // close popupSlider
                $("#sliderContainer").click(function () {
                    $("#sliderContainer").css({ "display": "none", })
                });
                $("#r_password_icons").click(function () {
                    var passwordReset = document.getElementById("r_password");
                    if (passwordReset.type === "password") {
                        passwordReset.type = "text";
                        $('#r_password_icons').attr("src", './pic/icons/icon_07.png').css("height", "6px");
                    } else {
                        passwordReset.type = "password";
                        $('#r_password_icons').attr("src", './pic/icons/icon_06.png').css("height", "20px");

                    }
                })

                $("#r_password_icons2").click(function () {
                    var passwordReset = document.getElementById("r_password_again");
                    if (passwordReset.type === "password") {
                        passwordReset.type = "text";
                        $('#r_password_icons2').attr("src", './pic/icons/icon_07.png').css("height", "6px");
                    } else {
                        passwordReset.type = "password";
                        $('#r_password_icons2').attr("src", './pic/icons/icon_06.png').css("height", "20px");

                    }
                })


                $("#registerBtn").click(function () {
                    var name = $("#name").val();
                    var mobile = $("#mobile").val();
                    var p = $("#r_password").val();
                    var p_again = $("#r_password_again").val();
                    var inviteCode = $("#inviteCode").val();
                    var r_name = $("#r_name").val();
                    var r_passport = $("#r_passport").val();




                    // if (mobile != '' && p != '' && name != '' && inviteCode != '' && r_name != '' && r_passport != '') {
                    //     msgPageObj.show("注册前请接受条款和隐私政策");
                    // }


                    if ((mobile == '') || (p == '') || (p_again == '') || (name == '') || (inviteCode == '') || (r_name == '') || (r_passport == '')) {
                        msgPageObj.show("输入完整信息")
                    }

                    else if ((mobile.length != 11) && (p != '') && (p_again != '') && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '')) {
                        msgPageObj.show("请输入您的 11 位电话号码。")
                    }

                    else if ((mobile != "") && (p != '') && (p_again != '') && (p.length > 30) && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '')) {
                        msgPageObj.show("请输入6至30位数字的密码和确认密码")
                    }
                    else if ((mobile != "") && (p != '') && (p_again != '') && (p.length < 6) && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '')) {
                        msgPageObj.show("请输入6至30位数字的密码和确认密码")
                    }

                    else if ((mobile != "") && (p != '') && (p_again != '') && (p_again.length > 30) && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '')) {
                        msgPageObj.show("请输入6至30位数字的密码和确认密码")
                    }
                    else if ((mobile != "") && (p != '') && (p_again != '') && (p_again.length < 6) && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '')) {
                        msgPageObj.show("请输入6至30位数字的密码和确认密码")
                    }

                    else if ((mobile != "") && (p != '') && (p_again != '') && (p_again != p) && (p.length <= 30) && (p.length >= 6) && (p_again.length <= 30) && (p_again.length >= 6) && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '')) {
                        msgPageObj.show("两次密码输入不一致")
                    }

                    else if ((mobile != "") && (p != '') && (p_again != '') && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '') && (r_passport.length < 11)) {
                        msgPageObj.show("身份证号码必须有11-19位数字")
                    }

                    else if ((mobile != "") && (p != '') && (p_again != '') && (name != '') && (inviteCode != '') && (r_name != '') && (r_passport != '') && (r_passport.length > 19)) {
                        msgPageObj.show("身份证号码必须有11-19位数字")
                    }

                    else {
                        setTimeout(function () {
                            checkLoginR = "register"
                            fetchSliderConfigAndData()
                            // registerFun();
                        }, 0);
                    }
                });
                var rotated = true;

                function fetchSliderConfigAndData() {
                    $.ajax({
                        type: "GET",
                        url: API_SERVER + "/v1/auth/validate/side-image-config",
                        contentType: "application/json",
                        dataType: "json",
                        success: function (configData) {
                            // loaderObj.unShow();

                            configData = configData.result
                            handleSliderConfig(configData);
                            console.log(configData, '================获取滑块配置和数据函数===================>>>>');

                            function handleSliderConfig(configData) {
                                if (configData[0] == 1 && configData[1] == 1) {
                                    fetchSliderData();
                                }
                                if (configData[0] == 0 && configData[1] == 1) {
                                    if (checkLoginR === "register") {
                                        registerFun();
                                    }
                                    if (checkLoginR === "login") {
                                        fetchSliderData();
                                    }
                                }
                                if (configData[0] == 1 && configData[1] == 0) {
                                    if (checkLoginR === "register") {
                                        fetchSliderData();
                                    }
                                    if (checkLoginR === "login") {
                                        loginObj.loginFun();
                                    }
                                }
                                if (configData[0] == 0 && configData[1] == 0) {
                                    if (checkLoginR === "register") {
                                        registerFun();
                                        checkLoginR = null;
                                    }
                                    if (checkLoginR === "login") {
                                        loginObj.loginFun();
                                        checkLoginR = null;
                                    }
                                }

                            }
                        },
                        error: function (xhr, status, error) {
                            console.error("Failed to fetch slider config:", error);
                        }
                    });
                }



                // 获取滑块数据函数
                function fetchSliderData() {
                    $('#sliderContainer').css({ "display": "flex", })
                    fixedImage.style.left = `${0}px`;
                    $.ajax({
                        type: "GET",
                        url: API_SERVER + "/v1/auth/validate/side-image",
                        contentType: "application/json",
                        dataType: "json",
                        success: function (sliderData) {
                            // updateSlider(sliderData);
                            console.log(sliderData, '================获取滑块数据函数===================>>>>');
                            blockImage = sliderData.result.block;
                            bgImage = sliderData.result.bg;
                            y = ((sliderData.result.y) + 33) * (0.8 * w / 512);
                            ImgId = sliderData.result.id;
                            $(".slider_container").css({ "width": 0.8 * w, "height": 0.8 * w * 215 / 512 });

                            $("#fixedImage").css({ "width": 0.8 * w / 512 * 66 })

                            captchachack(blockImage, bgImage, y)

                        },
                        error: function (xhr, status, error) {
                            console.error("Failed to fetch slider data:", error);
                        }
                    });
                }

                function captchachack(block, bg, y) {
                    $('.background_image_slider').attr("src", bg)
                    $('#fixedImage').attr("src", block)
                    $('#fixedImage').css("top", y);
                    slider_cap();

                }

                function slider_cap() {

                    var sliderContainer = document.getElementById('sliderContainer');
                    var fixedImage = document.getElementById('fixedImage');
                    var isDragging = false;

                    fixedImage.addEventListener('mousedown', startDrag);
                    fixedImage.addEventListener('touchstart', startDrag);

                    function startDrag(e) {
                        isDragging = true;
                        window.addEventListener('mousemove', drag);
                        window.addEventListener('touchmove', drag);
                        window.addEventListener('mouseup', stopDrag);
                        window.addEventListener('touchend', stopDrag);
                        fixedImage.style.transition = 'none'; // 移除过渡效果以确保实时性
                    }

                    function drag(e) {
                        if (isDragging) {
                            var xPosition = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                            var containerRect = sliderContainer.getBoundingClientRect();
                            var minX = containerRect.left;
                            var maxX = 0.8 * w;
                            var newPosition = xPosition - fixedImage.clientWidth / 2;

                            // 确保在范围内
                            newPosition = Math.max(minX, Math.min(newPosition, maxX));

                            fixedImage.style.left = `${newPosition}px`;
                        }
                    }

                    //禁止拖拽
                    function stopDrag() {
                        isDragging = false;
                        window.removeEventListener('mousemove', drag);
                        window.removeEventListener('touchmove', drag);
                        window.removeEventListener('mouseup', stopDrag);
                        window.removeEventListener('touchend', stopDrag);
                        fixedImage.style.transition = ''; // 恢复过渡效果

                        xPosition = (parseInt(fixedImage.style.left) / (0.8 * w / 512)) - (33)

                        if (checkLoginR === "register") {
                            registerFun();
                            checkLoginR = null
                        }
                        else if (checkLoginR === "login") {
                            loginObj.loginFun();
                            checkLoginR = null
                        }

                    }
                }

                function registerFun() {

                    var mData = {
                        "mobile": $("#mobile").val(),
                        "name": $("#name").val(),
                        "password": $("#r_password").val(),
                        "inviteCode": $("#inviteCode").val(),
                        "passportName": $("#r_name").val(),
                        "passportNumber": $("#r_passport").val(),
                        "vid": ImgId,
                        "x": parseInt(xPosition)
                    }

                    $.ajax({
                        type: "post",
                        url: API_SERVER + "/v1/auth/signUp",
                        data: JSON.stringify(mData),
                        contentType: "application/json",
                        dataType: "json",
                        async: true,
                        timeout: 100000,
                        beforeSend: function (xmlhttprequest) {
                        },
                        success: function (data) {

                            if (data.code == 0) {
                                $('#sliderContainer').css({ "display": "none", })
                                cleanInput();
                                msgPageObj.show("您已成功注册帐号")

                                setTimeout(function () {
                                    //location.href = "https://m.slzgtest.top";//去下载app的地址
                                    location.href = API_SERVER + '/m';

                                }, 1000)
                            }
                            else {

                                // cleanInput();
                                $('#sliderContainer').css({ "display": "none", })
                                msgPageObj.show(getStatusCode(data.code))
                                fixedImage.style.left = `${0}px`;
                            }
                        },
                        error: function (xmlhttprequest, error) {

                            cleanInput();
                        },
                        complete: function () {
                        }
                    });

                    function cleanInput() {
                        $("#name").val('');
                        $("#mobile").val('');
                        $("#r_password").val('');
                        $("#r_password_again").val('');
                        $("#inviteCode").val('');
                        $("#r_name").val('');
                        $("#r_passport").val('');
                    }

                }


            }
        }

    </script>

</body>

</html>