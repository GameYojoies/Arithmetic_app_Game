<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="shortcut icon" href="#" />
    <link rel="stylesheet" href="js/spinnew.css?version=1.1.38" />
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/main.css">

    <link rel="stylesheet" href="css/quill.core.css?version=1.3.6" />
    <link rel="stylesheet" href="css/quill.mention.min.css?version=3.1.0" />
    <script language="javascript" type="text/javascript" src="conf.js?version=1.0112"></script>
    <script language="javascript" type="text/javascript" src="js/jquery.js?version=1.0.0.1"></script>
    <script language="javascript" type="text/javascript" src="js/jquery.transit.js?version=1.0.0.1"></script>
    <script language="javascript" type="text/javascript" src="js/base64.js"></script>
    <script language="javascript" type="text/javascript" src="js/widget.js"></script>
    <script language="javascript" type="text/javascript" src="js/wsFormat.js"></script>
    <script language="javascript" type="text/javascript" src="js/iscroll-probe.js"></script>
    <script language="javascript" type="text/javascript" src="js/pic.js?version=1.0.1"></script>
    <script language="javascript" type="text/javascript" src="js/clipboard.min.js"></script>
    <script language="javascript" type="text/javascript" src="js/spinnew.js?version=1.0.0.1"></script>
    <script language="javascript" type="text/javascript" src="js/quill.min.js?version=1.3.6"></script>
    <script language="javascript" type="text/javascript" src="js/quill.mention.min.js?version=3.1.0"></script>
    <script language="javascript" type="text/javascript" src="js/language.js"></script>
    <script language="javascript" type="text/javascript" src="js/swiper.js"></script>
    <script language="javascript" type="text/javascript" src="js/moment.js"></script>
    <script language="javascript" type="text/javascript" src="js/QrCode.js"></script>

</head>
<script>

    var API_SERVER = "";

    if (APIServer) {
        API_SERVER = APIServer;
    }

    var ShareServerUrl = '';
    if (ShareServer) {
        ShareServerUrl = ShareServer;
    }

    if (isPro) {
        var host = location.hostname;
        var port = location.port;
        API_SERVER = location.protocol + "//" + host + ":" + port;
        ShareServerUrl = API_SERVER + '/m';
        ShareServer = ShareServerUrl;

        $.ajax({
            type: "GET",
            url: API_SERVER + "/v1/config/app-custom",
            contentType: "application/json",
            dataType: "json",
            success: function (customData) {
                if (customData.code == 0) {
                    try {
                        var arr = customData.result.split(',');
                        if (arr.length > 1) {
                            if (location.href.indexOf(arr[1]) < 0) {
                                location.href = API_SERVER + arr[1];
                            } else {
                                ShareServerUrl = API_SERVER + arr[1];
                                ShareServer = ShareServerUrl;
                            }
                        }
                    } catch (e) { }
                }
            },
            error: function (xhr, status, error) {
                console.error("Failed to fetch app custom data:", error);
            }
        });
    }

</script>
<style>
    /* all display */

    .flexCenter {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .flexLeft {
        display: flex;
        justify-content: left;
        align-items: center;
    }

    .flexRight {
        display: flex;
        justify-content: right;
        align-items: center;
    }

    .flexTop {
        display: flex;
        justify-content: start;
        align-items: center;
    }

    .flexBottom {
        display: flex;
        justify-content: end;
        align-items: center;
    }

    .flexSpac {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .flexCenter_c {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
    }

    .flexLeft_c {
        display: flex;
        justify-content: left;
        align-items: center;
        flex-direction: column;
    }

    .flexRight_c {
        display: flex;
        justify-content: right;
        align-items: center;
        flex-direction: column;
    }

    .flexTop_c {
        display: flex;
        justify-content: start;
        align-items: center;
        flex-direction: column;
    }

    .flexBottom_c {
        display: flex;
        justify-content: end;
        align-items: center;
        flex-direction: column;
    }

    .flexSpac_c {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: column;
    }
</style>

<!-- 加载效果 -->
<style>
    .dualBall {
        width: 44px;
        height: 28px;
        position: relative;
        animation: split 0.6s ease-in infinite alternate;
    }

    .dualBall::before,
    .dualBall::after {
        content: '';
        position: absolute;
        height: 28px;
        width: 28px;
        border-radius: 50%;
        left: 0;
        top: 0;
        transform: translateX(-10px);
        background: #f18c34;
        opacity: 0.75;
        backdrop-filter: blur(20px);
    }

    .dualBall::after {
        left: auto;
        right: 0;
        background: #F55D48;
        transform: translateX(10px);
    }

    @keyframes split {

        0%,
        25% {
            width: 24px
        }

        100% {
            width: 94px
        }
    }
</style>


<body style="overflow: hidden; margin: 0px;" class="theme-default">
    <div id="root" class="font-medium"></div>

    <div id="messageBox"
        style="z-index: 997;position: absolute;left: 0px;top: 0px;display: none;width: 1px;height: 1px;">
        <div id="messageBoxBg" style="position: absolute;left: 0px;top: 0px;background-color: #000000;opacity: 0.7;">
        </div>
        <div id="messageBoxBodyBg"
            style="position: absolute;left: 0px;top: 0px;display: flex;justify-content: center;align-items: center;">
            <div id="messageBoxBody"
                style="background-color: #f7f7f7;border-radius: 15px;box-shadow: 0px 0px 5px 5px rgb(0, 0, 0,0.2);">
                <div style="height: 20px;"></div>
                <div id="msgContent"
                    style="text-align: center;width: 80%;height: 140px;display: flex;justify-content: center;align-items: center;margin: auto;">
                    Content
                </div>
                <div
                    style="width: 100%;height:30px;display: flex;justify-content: center;align-items: center;margin-top: 3px;">
                    <div id="msgBtnOK"
                        style="width:100%;height:45px;background-color:#ff5b5a;border-radius:0px 0px 0px 5px;display: flex;justify-content: center;align-items: center;color: #ffffff;">
                        确认</div>

                    <div style="background-color:#868686;width:2px"></div>
                    <div id="msgBtnCancel"
                        style="width:100%;height:45px;background-color:#ededed;border-radius: 0px 0px 5px 0px;display: flex;justify-content: center;align-items: center;">
                        取消</div>
                </div>
                <div style="height: 10px;"></div>
            </div>
        </div>
    </div>
    <div id="messagePage"
        style="z-index: 996;position: absolute;left: 0px;top: 0px;display: none;width: 1px;height: 1px;">
        <div id="messagePageBg" style="position: absolute;left: 0px;top: 0px;background-color: #000000;opacity: 0.7;">
        </div>
        <div id="messagePageBodyBg"
            style="position: absolute;left: 0px;top: 0px;display: flex;justify-content: center;align-items: center;">
            <div id="messagePageBody"
                style="background-color: rgb(247, 247, 247);border-radius: 15px;box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 5px 5px;width: 292.5px;height: 200px;display: flex;align-items: center;justify-content: center;">
                <div style="height: 30px;display: flex;">
                    <div id="msgPageBtnClose"
                        style="display: none;justify-content: center;align-items: center;width: 30px;height: 100%;">
                        x
                    </div>
                </div>
                <div id="msgPageContent"
                    style="width: 90%;height:160px;display: flex;justify-content: center;align-items: center;">
                    Content
                </div>
                <div style="height: 10px;"></div>
            </div>
        </div>
    </div>
    <div id="alert"
        style="display: none;z-index: 998;position: absolute;left: 0px;top: 0px;background-color: #000000;opacity: 0.9;justify-content: center;align-items: center;">
        <div id="alertMsg"
            style="display: flex;justify-content: center;align-items: center;background-color: #cccccc;border-radius: 20px;padding: 10px;">

        </div>
    </div>
    <div id="loader"
        style="display: none;z-index: 999;position: absolute;left: 0px;top: 0px;background-color: #000000;opacity: 0.4;justify-content: center;align-items: center;">


    </div>

    <div id="loaderStart"
        style="position: absolute;left: 0px;top: 0px;z-index: 9999999;background-color: #f7f7f7;display: flex;justify-content: center;align-items: center;">

        <!--<div style="width: 50px;height: 50px;background-color: #ff5b5a;"></div>-->

        <div class="dualBall"></div>

    </div>

</body>

</html>
<script>

    var token = null;
    var deviceId = null;
    var platform = null;
    var refreshTokenTimer = null;
    var heartBeatTimer = null;
    var heartBeatTimeStamp = 0;
    var customData = null;


    var TIMEOUT = 10000;
    var PAGETIMEOUT = 300;//页面切换时间



    var w = $(window).width();
    var h = $(window).height();

    var headH = 50;
    var menuH = 80;

    var alertObj = new alert();
    alertObj.init();
    var loaderObj = new loader();
    loaderObj.init();
    var msgObj = new messageBox();
    msgObj.init();
    var msgPageObj = new messagePage();
    msgPageObj.init();




    var lang = localStorage.getItem('Language')
    if (lang == '' || lang == null) {
        localStorage.setItem('Language', 'EN')
    }
    // var themeChange = localStorage.getItem('Theme')
    // if (themeChange == '' || themeChange == null || themeChange == 'theme-default') {
    //     localStorage.setItem('Theme', 'theme-default')
    //     $('#root').removeClass().addClass("theme-default");
    // }


    var mResObj = new resObj("res.json");
    mResObj.setSuccessFun(startApp);
    mResObj.setErrorFun(errorApp);

    mResObj.init();
    startLoader();
    mResObj.load();

    function startLoader() {
        $("#loaderStart").css({ "width": w, "height": h });
    }

    function startApp() {

        setTimeout(function () {
            $("#loaderStart").css({ "display": "none" });
        }, 500);

        mResObj.showHtml("lang.html", "root");
        mResObj.showHtml("main.html", "root");

        mResObj.showHtml("getStart.html", "root");
        mResObj.showHtml("login.html", "root");
        mResObj.showHtml("login_agreement.html", "root");
        mResObj.showHtml("login_policy.html", "root");




        mResObj.showHtml("forgot.html", "root");
        mResObj.showHtml("verify.html", "root");
        mResObj.showHtml("change_pass.html", "root");
        mResObj.showHtml("checkin.html", "root");

        mResObj.showHtml("trade_history.html", "root");

        mResObj.showHtml("topup.html", "root");
        mResObj.showHtml("earn_with.html", "root");
        mResObj.showHtml("wallet_product_history.html", "root");
        mResObj.showHtml("wallet_product_detail.html", "root");
        mResObj.showHtml("withdraw_history.html", "root");
        mResObj.showHtml("convertDSF.html", "root");

        mResObj.showHtml("all_payment.html", "root");
        mResObj.showHtml("bank_card.html", "root");
        mResObj.showHtml("bank_add.html", "root");
        mResObj.showHtml("alipay_card.html", "root");
        mResObj.showHtml("alipay_add.html", "root");

        mResObj.showHtml("invite.html", "root");
        mResObj.showHtml("reward.html", "root");
        mResObj.showHtml("about.html", "root");
        mResObj.showHtml("about_detail.html", "root");
        mResObj.showHtml("about_detail_2.html", "root");
        mResObj.showHtml("about_detail_3.html", "root");
        mResObj.showHtml("about_detail_4.html", "root");
        mResObj.showHtml("about_detail_5.html", "root");
        mResObj.showHtml("about_detail_6.html", "root");
        mResObj.showHtml("Team_salary_collection.html", "root");
        mResObj.showHtml("Receive_daily_activation_rewards.html", "root");
        mResObj.showHtml("Invitation_registration.html", "root");

        mResObj.showHtml("transfer.html", "root");
        mResObj.showHtml("transaction_history.html", "root");
        mResObj.showHtml("transaction_his.html", "root");

        mResObj.showHtml("news.html", "root");
        mResObj.showHtml("national.html", "root");
        mResObj.showHtml("summarizeProduct.html", "root");
        mResObj.showHtml("summarizeProduct2.html", "root");
        mResObj.showHtml("setting.html", "root");
        mResObj.showHtml("setting_detail.html", "root");
        mResObj.showHtml("personal_information_real_name.html", "root");
        mResObj.showHtml("personal_information_mobile.html", "root");
        mResObj.showHtml("feedback.html", "root");
        mResObj.showHtml("my_team.html", "root");
        mResObj.showHtml("verified.html", "root");
        mResObj.showHtml("reset_password_done.html", "root");
        mResObj.showHtml("promotion.html", "root");
        mResObj.showHtml("informationList.html", "root");
        mResObj.showHtml("information.html", "root");
        mResObj.showHtml("person.html", "root");
        mResObj.showHtml("service.html", "root");
        mResObj.showHtml("problem.html", "root");
        mResObj.showHtml("reset_password.html", "root");
        mResObj.showHtml("reset_password_pin.html", "root");
        mResObj.showHtml("setting_fund.html", "root");

        // mResObj.showHtml("chat.html", "root");
        mResObj.showHtml("newChat.html", "root");
        mResObj.showHtml("supportEmail.html", "root");
        mResObj.showHtml("supportSendQQ.html", "root");
        mResObj.showHtml("supportWechat.html", "root");
        mResObj.showHtml("supportWhatsApp.html", "root");
        mResObj.showHtml("level.html", "root");
        mResObj.showHtml("assets_history.html", "root");
        mResObj.showHtml("supportTelegram.html", "root");
        mResObj.showHtml("supportFacebook.html", "root");
        mResObj.showHtml("supportLine.html", "root");
        mResObj.showHtml("transfer_history.html", "root");



        mainObj.checkIsLogin();

        setAllPageLang()
    }
    function errorApp() {
        console.log("load error");
    }

    function onBackPressed() {
        console.log('========>');
    }

    function setKeyboardHeight(mH) {
        chatRoomObj.setKeyboardHeight(mH);
    }

    function setDeviceId(mDeviceId, mPlatform) {
        deviceId = mDeviceId;
        platform = mPlatform;
    }

    function appComeback() {
        var t = new Date();
        console.log("i'm back !" + t.getTime());
        //loginObj.checkLoginStatusWithRefreshToken();
    }

    function openAgreement() {
        pageShow('agreementPage');
    }

    function openPrivacy() {
        pageShow('privacyPage');
    }

    function firstStartFun() {

        if (!checkIsAndroid()) {
            return;
        }

        var isNotFirst = localStorage.getItem('isFirst');
        if (!isNotFirst) {
            pageShow('firstStartPage');
        }

    }

    function firstCheckToken() {


        if (token == null) {
            pageShow("loginPage");
            return;
        }

        var mData = { "token": token.refresh };

        $.ajax({
            type: "post",
            url: API_SERVER + "/v1/auth/refresh",
            data: JSON.stringify(mData),
            contentType: "application/json",
            dataType: "json",
            async: true,
            timeout: 100000,
            beforeSend: function (xmlhttprequest) {
            },
            success: function (data) {
                if (data.code == 0) {
                    var tokenObj = data.result;
                    localStorage.setItem('token', JSON.stringify(tokenObj));
                    getLocalToken();
                } else {
                    if (data.code == 4002) {
                        pageShow("loginPage");

                    }
                }
                mainObj.menuhome();
            },
            error: function (xmlhttprequest, error) {
                console.log(error);
            },
            complete: function () {
            }
        });



    }

    // function fetchAppCustomData(data) {
    //     var data = 'a1';
    //     customData = data;
    // }

    function setCustomData(customData) {

        var setmData = customData.result;
        console.log(setmData, '================获取应用自定义数据函数======mData=============>>>>');
        // 使用 for 循环遍历数组
        // for (var i = 0; i < setmData.length; i++) {
        //     var customDataLoop = setmData.split(',')[i];
        //     console.log(customDataLoop, '================获取应用自定义数据函数======customDataLoop=============>>>>');

        // }
        var tradeID = setmData.split(',')[0];
        //第一个数据给市场页
        tradeObj.tradeCustomData(tradeID);
        // console.log(tradeID, '================获取应用自定义数据函数======1=============>>>>');

    }

    function fetchAppCustomData() {

        var Token = localStorage.getItem('token');
        var obj = JSON.parse(Token);

        $.ajax({
            type: "GET",
            url: API_SERVER + "/v1/config/app-custom",
            headers: {
                'Authorization': 'Bearer ' + obj.token
            },
            contentType: "application/json",
            dataType: "json",
            success: function (customData) {

                setCustomData(customData);
                // customData = data;

                // console.log(customData, '================获取应用自定义数据函数======customData=============>>>>');


            },
            error: function (xhr, status, error) {
                console.error("Failed to fetch app custom data:", error);
            }
        });
    }

    function refreshSrollObj(scrollObj) {
        setTimeout(function () {
            scrollObj.refresh();
        }, 1000);
        setTimeout(function () {
            scrollObj.refresh();
        }, 3000);
        setTimeout(function () {
            scrollObj.refresh();
        }, 5000);
        setTimeout(function () {
            scrollObj.refresh();
        }, 10000);
    }


</script>